{"version":3,"sources":["../../js/polyfills.js","../../js/api.js","../../js/model.js","../../js/view.js","../../js/controller.js","../../js/app.js"],"names":["arr","forEach","item","hasOwnProperty","Object","defineProperty","configurable","enumerable","writable","value","prepend","argArr","Array","prototype","slice","call","arguments","docFragment","document","createDocumentFragment","argItem","isNode","Node","appendChild","createTextNode","String","this","insertBefore","firstChild","Element","Document","DocumentFragment","createAPI","getJson","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","url","wrap","_callee$","_context","prev","next","fetch","sent","json","abrupt","stop","apiGetJson","_x2","apply","getText","_ref2","_callee2","_callee2$","_context2","text","apiGetText","_x3","root","length","undefined","window","define","amd","exports","_typeof","module","api","EJSS3","createModel","API","getGists","JSON","parse","stringify","gists","getChapterGists","chapter","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","gist","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","key","file","Symbol","iterator","done","description","substring","indexOf","keys","files","raw_url","raw_code","t0","return","finish","comments","comments_url","raw_comments","t1","filter","a","loadGists","GISTS_URL","includes","sort","b","console","log","message","loadChapter","model","createView","appendElement","parent","child","createElement","elementType","id","content","element","setAttribute","innerHTML","getElementById","getElementsByTagName","tag","prependElement","e1","e2","renderCode","gistElement","fileElement","filename","marked","hljs","highlightBlock","err","renderComments","first","comment","commentElement","body","renderEmptyElement","e","clearSolution","toggleMenu","classList","toggle","toggleWaiting","state","remove","add","updateActiveMenuItem","currentChapter","renderChapter","solutionElement","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_x4","setupMenu","callback","chapterRef","menuElement","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_loop","_iterator4","_step4","onclick","chapterElement","_x5","_x6","view","createController","menuToggle","chapterGists","init","appModel","appView","controller"],"mappings":"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","file":"app.js","sourcesContent":["// Source: https://github.com/jserz/js_piece/blob/master/DOM/ParentNode/prepend()/prepend().md\n(function(arr) {\n  arr.forEach(function(item) {\n    if (item.hasOwnProperty('prepend')) {\n      return;\n    }\n    Object.defineProperty(item, 'prepend', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function prepend() {\n        var argArr = Array.prototype.slice.call(arguments),\n          docFragment = document.createDocumentFragment();\n\n        argArr.forEach(function(argItem) {\n          var isNode = argItem instanceof Node;\n          docFragment.appendChild(\n            isNode ? argItem : document.createTextNode(String(argItem))\n          );\n        });\n\n        this.insertBefore(docFragment, this.firstChild);\n      }\n    });\n  });\n})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\n","(function(root = window) {\n  function createAPI() {\n    async function apiGetJson(url) {\n      return await (await fetch(url)).json();\n    }\n\n    async function apiGetText(url) {\n      return await (await fetch(url)).text();\n    }\n\n    return {\n      getJson: apiGetJson,\n      getText: apiGetText\n    };\n  }\n\n  // Export to root (window in browser)\n  if (typeof define === 'function' && define.amd) {\n    // requireJS\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports.api = createAPI;\n  } else {\n    // in the browser\n    root = root || {};\n    root.EJSS3 = root.EJSS3 || {};\n    root.EJSS3.createAPI = createAPI;\n  }\n})(this);\n","(function(root = window) {\n  function createModel(API) {\n    // private\n    //const API = root.EJSS3.api;\n    const GISTS_URL = 'https://api.github.com/users/jonurry/gists';\n    let gists = {};\n\n    // public\n    async function getChapterGists(chapter) {\n      for (let gist of gists) {\n        if (\n          gist.description.substring(0, gist.description.indexOf('.')) ==\n          chapter\n        ) {\n          for (let key of Object.keys(gist.files)) {\n            let file = gist.files[key];\n            if (!file.hasOwnProperty('raw_code')) {\n              file.raw_code = await API.getText(file.raw_url);\n            }\n          }\n          if (gist.comments > 0 && !gist.hasOwnProperty('raw_comments')) {\n            gist.raw_comments = await API.getJson(gist.comments_url);\n          }\n        }\n      }\n      return gists.filter(\n        a => a.description.substring(0, a.description.indexOf('.')) == chapter\n      );\n    }\n\n    function getGists() {\n      return JSON.parse(JSON.stringify(gists));\n    }\n\n    async function loadGists() {\n      try {\n        // get all of my code gists from github\n        gists = await API.getJson(GISTS_URL);\n        // only keep gists relating to (Eloquent JavaScript Solutions)\n        gists = gists.filter(a =>\n          a.description.includes('(Eloquent JavaScript Solutions)')\n        );\n        // sort the remaining gists by exercise number\n        gists.sort((a, b) => {\n          if (a.description < b.description) return -1;\n          if (a.description > b.description) return 1;\n          return 0;\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n\n    return {\n      getGists: getGists,\n      loadChapter: getChapterGists,\n      loadGists: loadGists\n    };\n  }\n\n  // Export to root (window in browser)\n  if (typeof define === 'function' && define.amd) {\n    // requireJS\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports.model = createModel;\n  } else {\n    // in the browser\n    root = root || {};\n    root.EJSS3 = root.EJSS3 || {};\n    root.EJSS3.createModel = createModel;\n  }\n})(this);\n","(function(root = window) {\n  function createView() {\n    // private\n    function appendElement(parent, child) {\n      return parent.appendChild(child);\n    }\n\n    function createElement(elementType, id = '', content = '') {\n      let element = document.createElement(elementType);\n      if (id !== '') {\n        element.setAttribute('id', id);\n      }\n      if (content !== '') {\n        element.innerHTML = content;\n      }\n      return element;\n    }\n\n    function getElementById(id) {\n      return document.getElementById(id);\n    }\n\n    function getElementsByTagName(tag) {\n      return document.getElementsByTagName(tag);\n    }\n\n    function prependElement(e1, e2) {\n      e1.prepend(e2);\n    }\n\n    function renderCode(gistElement, files) {\n      for (let key of Object.keys(files)) {\n        let fileElement = createElement(\n          'div',\n          files[key].filename,\n          marked('```js\\n' + files[key].raw_code + '\\n```')\n        );\n        appendElement(gistElement, fileElement);\n        hljs.highlightBlock(fileElement.firstChild.firstChild);\n      }\n    }\n\n    function renderComments(gistElement, comments) {\n      let first = true;\n      for (let comment of comments) {\n        let commentElement = createElement(\n          'div',\n          comment.id,\n          marked(comment.body)\n        );\n        if (first) {\n          prependElement(gistElement, commentElement);\n          first = false;\n        } else {\n          appendElement(gistElement, commentElement);\n        }\n      }\n    }\n\n    function renderEmptyElement(e) {\n      e.innerHTML = '';\n    }\n\n    // public\n    function clearSolution() {\n      let solutionElement = getElementById('solutions');\n      renderEmptyElement(solutionElement);\n    }\n\n    async function renderChapter(gists) {\n      let solutionElement = getElementById('solutions');\n      for (let gist of gists) {\n        let gistElement = createElement('div', gist.id);\n        appendElement(solutionElement, gistElement);\n        renderCode(gistElement, gist.files);\n        prependElement(gistElement, createElement('h3', '', 'Solution'));\n        if (gist.comments > 0) {\n          renderComments(gistElement, gist.raw_comments);\n        }\n      }\n    }\n\n    async function setupMenu(gists, callback) {\n      let chapterRef = 0;\n      let menuElement = getElementById('menu');\n      menuElement.onclick = toggleMenu;\n      for (let gist of gists) {\n        let chapter = gist.description.substring(\n          0,\n          gist.description.indexOf('.')\n        );\n        if (chapter != chapterRef) {\n          let chapterElement = getElementById('nav-chapter-' + chapter);\n          chapterElement.classList.remove('inactive');\n          chapterElement.onclick = function() {\n            callback(chapter);\n          };\n          chapterRef = chapter;\n        }\n      }\n    }\n\n    function toggleMenu() {\n      getElementsByTagName('nav')[0].classList.toggle('collapsed');\n    }\n\n    function toggleWaiting(state) {\n      if (state === 'on') {\n        getElementById('waiting').classList.remove('hidden');\n      } else {\n        getElementById('waiting').classList.add('hidden');\n      }\n    }\n\n    function updateActiveMenuItem(currentChapter, chapter) {\n      if (currentChapter !== chapter) {\n        getElementById('nav-chapter-' + currentChapter).classList.remove(\n          'active'\n        );\n        getElementById('nav-chapter-' + chapter).classList.add('active');\n      }\n    }\n\n    // export public api\n    return {\n      clearSolution: clearSolution,\n      renderChapter: renderChapter,\n      setupMenu: setupMenu,\n      toggleMenu: toggleMenu,\n      toggleWaiting: toggleWaiting,\n      updateActiveMenuItem: updateActiveMenuItem\n    };\n  }\n\n  // Export to root (window in browser)\n  if (typeof define === 'function' && define.amd) {\n    // requireJS\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports.view = createView;\n  } else {\n    // in the browser\n    root = root || {};\n    root.EJSS3 = root.EJSS3 || {};\n    root.EJSS3.createView = createView;\n  }\n})(this);\n","(function(root = window) {\n  function createController() {\n    // private\n    let currentChapter = 2;\n    let model = {};\n    let view = {};\n\n    async function loadChapter(chapter, menuToggle = true) {\n      let chapterGists = {};\n      view.clearSolution();\n      view.toggleWaiting('on');\n      view.updateActiveMenuItem(currentChapter, chapter);\n      if (menuToggle) {\n        view.toggleMenu();\n      }\n      chapterGists = await model.loadChapter(chapter);\n      view.renderChapter(chapterGists);\n      currentChapter = chapter;\n      view.toggleWaiting('off');\n    }\n\n    // public\n    async function init(appModel, appView) {\n      model = appModel;\n      view = appView;\n      await model.loadGists();\n      await view.setupMenu(model.getGists(), loadChapter);\n      await loadChapter(currentChapter, false);\n    }\n\n    // export public api\n    return {\n      init: init\n    };\n  }\n\n  // Export to root (window in browser)\n  if (typeof define === 'function' && define.amd) {\n    // requireJS\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports.controller = createController;\n  } else {\n    // in the browser\n    root = root || {};\n    root.EJSS3 = root.EJSS3 || {};\n    root.EJSS3.createController = createController;\n  }\n})(this);\n","// @codekit-prepend \"polyfills.js\";\n// @codekit-prepend \"api.js\";\n// @codekit-prepend \"model.js\";\n// @codekit-prepend \"view.js\";\n// @codekit-prepend \"controller.js\";\n\n(async (root = window) => {\n  let api = root.EJSS3.createAPI();\n  let model = root.EJSS3.createModel(api);\n  let view = root.EJSS3.createView();\n  let controller = root.EJSS3.createController();\n  await controller.init(model, view);\n})(this);\n"]}