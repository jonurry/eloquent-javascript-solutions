{"version":3,"sources":["../../js/polyfills.js","../../js/api.js","../../js/model.js","../../js/view.js","../../js/controller.js","../../js/app.js"],"names":["arr","forEach","item","hasOwnProperty","Object","defineProperty","configurable","enumerable","writable","value","prepend","argArr","Array","prototype","slice","call","arguments","docFragment","document","createDocumentFragment","argItem","isNode","Node","appendChild","createTextNode","String","this","insertBefore","firstChild","Element","Document","DocumentFragment","apiGetJson","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","url","wrap","_callee$","_context","prev","next","fetch","sent","json","abrupt","stop","_x2","apply","apiGetText","_ref2","_callee2","_callee2$","_context2","text","_x3","root","length","undefined","window","api","getJson","getText","define","amd","exports","_typeof","module","EJSS3","getChapterGists","chapter","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","gist","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","key","file","gists","Symbol","iterator","done","description","substring","indexOf","keys","files","API","raw_url","raw_code","t0","return","finish","comments","comments_url","raw_comments","t1","filter","a","loadGists","GISTS_URL","includes","sort","b","console","log","message","model","getGists","JSON","parse","stringify","loadChapter","appendElement","parent","child","createElement","elementType","id","content","element","setAttribute","innerHTML","getElementById","getElementsByTagName","tag","prependElement","e1","e2","renderCode","gistElement","fileElement","filename","marked","hljs","highlightBlock","err","renderComments","first","comment","commentElement","body","renderEmptyElement","e","clearSolution","toggleMenu","classList","toggle","toggleWaiting","state","remove","add","updateActiveMenuItem","currentChapter","renderChapter","solutionElement","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_x4","setupMenu","callback","chapterRef","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_loop","_iterator4","_step4","menuElement","onclick","_x5","_x6","view","menuToggle","chapterGists","init","appModel","appView","controller"],"mappings":"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","file":"app.js","sourcesContent":["// Source: https://github.com/jserz/js_piece/blob/master/DOM/ParentNode/prepend()/prepend().md\n(function(arr) {\n  arr.forEach(function(item) {\n    if (item.hasOwnProperty('prepend')) {\n      return;\n    }\n    Object.defineProperty(item, 'prepend', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function prepend() {\n        var argArr = Array.prototype.slice.call(arguments),\n          docFragment = document.createDocumentFragment();\n\n        argArr.forEach(function(argItem) {\n          var isNode = argItem instanceof Node;\n          docFragment.appendChild(\n            isNode ? argItem : document.createTextNode(String(argItem))\n          );\n        });\n\n        this.insertBefore(docFragment, this.firstChild);\n      }\n    });\n  });\n})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\n","(function(root = window) {\n  async function apiGetJson(url) {\n    return await (await fetch(url)).json();\n  }\n\n  async function apiGetText(url) {\n    return await (await fetch(url)).text();\n  }\n\n  let api = {\n    getJson: apiGetJson,\n    getText: apiGetText\n  };\n\n  // Export to root (window in browser)\n  if (typeof define === 'function' && define.amd) {\n    // requireJS\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports.api = api;\n  } else {\n    // in the browser\n    root = root || {};\n    root.EJSS3 = root.EJSS3 || {};\n    root.EJSS3.api = api;\n  }\n})(this);\n","(function(root = window) {\n  // private\n  const API = root.EJSS3.api;\n  const GISTS_URL = 'https://api.github.com/users/jonurry/gists';\n  let gists = {};\n\n  // public\n  async function getChapterGists(chapter) {\n    for (let gist of gists) {\n      if (\n        gist.description.substring(0, gist.description.indexOf('.')) == chapter\n      ) {\n        for (let key of Object.keys(gist.files)) {\n          let file = gist.files[key];\n          if (!file.hasOwnProperty('raw_code')) {\n            file.raw_code = await API.getText(file.raw_url);\n          }\n        }\n        if (gist.comments > 0 && !gist.hasOwnProperty('raw_comments')) {\n          gist.raw_comments = await API.getJson(gist.comments_url);\n        }\n      }\n    }\n    return gists.filter(\n      a => a.description.substring(0, a.description.indexOf('.')) == chapter\n    );\n  }\n\n  async function loadGists() {\n    try {\n      // get all of my code gists from github\n      gists = await API.getJson(GISTS_URL);\n      // only keep gists relating to (Eloquent JavaScript Solutions)\n      gists = gists.filter(a =>\n        a.description.includes('(Eloquent JavaScript Solutions)')\n      );\n      // sort the remaining gists by exercise number\n      gists.sort((a, b) => {\n        if (a.description < b.description) return -1;\n        if (a.description > b.description) return 1;\n        return 0;\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n\n  let model = {\n    getGists: function() {\n      return JSON.parse(JSON.stringify(gists));\n    },\n    loadChapter: getChapterGists,\n    loadGists: loadGists\n  };\n\n  // Export to root (window in browser)\n  if (typeof define === 'function' && define.amd) {\n    // requireJS\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports.model = model;\n  } else {\n    // in the browser\n    root = root || {};\n    root.EJSS3 = root.EJSS3 || {};\n    root.EJSS3.model = model;\n  }\n})(this);\n","(function(root = window) {\n  // private\n  function appendElement(parent, child) {\n    return parent.appendChild(child);\n  }\n\n  function createElement(elementType, id = '', content = '') {\n    let element = document.createElement(elementType);\n    if (id !== '') {\n      element.setAttribute('id', id);\n    }\n    if (content !== '') {\n      element.innerHTML = content;\n    }\n    return element;\n  }\n\n  function getElementById(id) {\n    return document.getElementById(id);\n  }\n\n  function getElementsByTagName(tag) {\n    return document.getElementsByTagName(tag);\n  }\n\n  function prependElement(e1, e2) {\n    e1.prepend(e2);\n  }\n\n  function renderCode(gistElement, files) {\n    for (let key of Object.keys(files)) {\n      let fileElement = createElement(\n        'div',\n        files[key].filename,\n        marked('```js\\n' + files[key].raw_code + '\\n```')\n      );\n      appendElement(gistElement, fileElement);\n      hljs.highlightBlock(fileElement.firstChild.firstChild);\n    }\n  }\n\n  function renderComments(gistElement, comments) {\n    let first = true;\n    for (let comment of comments) {\n      let commentElement = createElement(\n        'div',\n        comment.id,\n        marked(comment.body)\n      );\n      if (first) {\n        prependElement(gistElement, commentElement);\n        first = false;\n      } else {\n        appendElement(gistElement, commentElement);\n      }\n    }\n  }\n\n  function renderEmptyElement(e) {\n    e.innerHTML = '';\n  }\n\n  // public\n  function clearSolution() {\n    let solutionElement = getElementById('solutions');\n    renderEmptyElement(solutionElement);\n  }\n\n  async function renderChapter(gists) {\n    let solutionElement = getElementById('solutions');\n    for (let gist of gists) {\n      let gistElement = createElement('div', gist.id);\n      appendElement(solutionElement, gistElement);\n      renderCode(gistElement, gist.files);\n      prependElement(gistElement, createElement('h3', '', 'Solution'));\n      if (gist.comments > 0) {\n        renderComments(gistElement, gist.raw_comments);\n      }\n    }\n  }\n\n  async function setupMenu(gists, callback) {\n    let chapterRef = 0;\n    for (let gist of gists) {\n      let chapter = gist.description.substring(\n        0,\n        gist.description.indexOf('.')\n      );\n      if (chapter != chapterRef) {\n        let menuElement = getElementById('nav-chapter-' + chapter);\n        menuElement.classList.remove('inactive');\n        menuElement.onclick = function() {\n          callback(chapter);\n        };\n        chapterRef = chapter;\n      }\n    }\n  }\n\n  function toggleMenu() {\n    getElementsByTagName('nav')[0].classList.toggle('collapsed');\n  }\n\n  function toggleWaiting(state) {\n    if (state === 'on') {\n      getElementById('waiting').classList.remove('hidden');\n    } else {\n      getElementById('waiting').classList.add('hidden');\n    }\n  }\n\n  function updateActiveMenuItem(currentChapter, chapter) {\n    if (currentChapter !== chapter) {\n      getElementById('nav-chapter-' + currentChapter).classList.remove(\n        'active'\n      );\n      getElementById('nav-chapter-' + chapter).classList.add('active');\n    }\n  }\n\n  // export public api\n  let view = {\n    clearSolution: clearSolution,\n    renderChapter: renderChapter,\n    setupMenu: setupMenu,\n    toggleMenu: toggleMenu,\n    toggleWaiting: toggleWaiting,\n    updateActiveMenuItem: updateActiveMenuItem\n  };\n\n  // Export to root (window in browser)\n  if (typeof define === 'function' && define.amd) {\n    // requireJS\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports.view = view;\n  } else {\n    // in the browser\n    root = root || {};\n    root.EJSS3 = root.EJSS3 || {};\n    root.EJSS3.view = view;\n  }\n})(this);\n","(function(root = window) {\n  // private\n  let currentChapter = 2;\n  let model = {};\n  let view = {};\n\n  async function loadChapter(chapter, menuToggle = true) {\n    let chapterGists = {};\n    view.clearSolution();\n    view.toggleWaiting('on');\n    view.updateActiveMenuItem(currentChapter, chapter);\n    if (menuToggle) {\n      view.toggleMenu();\n    }\n    chapterGists = await model.loadChapter(chapter);\n    view.renderChapter(chapterGists);\n    currentChapter = chapter;\n    view.toggleWaiting('off');\n  }\n\n  // public\n  async function init(appModel, appView) {\n    model = appModel;\n    view = appView;\n    await model.loadGists();\n    await view.setupMenu(model.getGists(), loadChapter);\n    await loadChapter(currentChapter, false);\n  }\n\n  // export public api\n  let controller = {\n    init: init\n  };\n\n  // Export to root (window in browser)\n  if (typeof define === 'function' && define.amd) {\n    // requireJS\n  } else if (typeof exports === 'object') {\n    // Node.js\n    module.exports.controller = controller;\n  } else {\n    // in the browser\n    root = root || {};\n    root.EJSS3 = root.EJSS3 || {};\n    root.EJSS3.controller = controller;\n  }\n})(this);\n","// @codekit-prepend \"polyfills.js\";\n// @codekit-prepend \"api.js\";\n// @codekit-prepend \"model.js\";\n// @codekit-prepend \"view.js\";\n// @codekit-prepend \"controller.js\";\n\n(async (root = window) => {\n  let model = root.EJSS3.model;\n  let view = root.EJSS3.view;\n  let controller = root.EJSS3.controller;\n  await controller.init(model, view);\n})(this);\n"]}