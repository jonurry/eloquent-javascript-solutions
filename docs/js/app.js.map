{"version":3,"sources":["../../js/app.js","../../js/polyfills.js"],"names":["getElementById","id","document","getElementsByTagName","tag","createElement","elementType","arguments","length","undefined","content","element","setAttribute","innerHTML","appendElement","parent","child","appendChild","prependElement","e1","e2","prepend","renderEmptyElement","e","renderCode","gistElement","files","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Object","keys","Symbol","iterator","_step","next","done","key","value","fileElement","filename","marked","raw_code","hljs","highlightBlock","firstChild","err","return","renderComments","comments","first","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","comment","commentElement","body","clearSolution","solutionElement","updateActiveMenuItem","currentChapter","chapter","classList","remove","add","toggleMenu","toggle","toggleWaiting","state","prepareChapterGists","gists","filter","a","description","substring","indexOf","arr","forEach","item","hasOwnProperty","defineProperty","configurable","enumerable","writable","argArr","Array","prototype","slice","call","docFrag","createDocumentFragment","argItem","isNode","Node","createTextNode","String","this","insertBefore","Element","Document","DocumentFragment","_callee","url","regeneratorRuntime","wrap","_callee$","_context","prev","fetch","sent","json","abrupt","stop","apiGetJson","_callee2","_callee2$","_context2","text","apiGetText","_callee3","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","gist","_callee3$","_context3","raw_comments","t0","finish","renderChapter","_callee4","chapterRef","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_loop","_iterator4","_step4","_callee4$","_context4","menuElement","onclick","loadChapter","enableMenu","_callee5","_gists","_callee5$","_context5","includes","sort","b","console","log","message","getGists","_callee6","menuToggle","_callee6$","_context6","getCodeAndComments","_callee7","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","file","_callee7$","_context7","raw_url","comments_url","t1","gistsURL","_asyncToGenerator","mark","_callee8","_callee8$","_context8"],"mappings":"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","file":"app.js","sourcesContent":["// @codekit-prepend \"polyfills.js\";\n\n// Globals\nconst gistsURL = 'https://api.github.com/users/jonurry/gists';\nlet gists = {};\nlet currentChapter = 2;\n\n// api\nasync function apiGetJson(url) {\n  return await (await fetch(url)).json();\n}\n\nasync function apiGetText(url) {\n  return await (await fetch(url)).text();\n}\n\n// view\nfunction getElementById(id) {\n  return document.getElementById(id);\n}\n\nfunction getElementsByTagName(tag) {\n  return document.getElementsByTagName(tag);\n}\n\nfunction createElement(elementType, id = '', content = '') {\n  let element = document.createElement(elementType);\n  if (id !== '') {\n    element.setAttribute('id', id);\n  }\n  if (content !== '') {\n    element.innerHTML = content;\n  }\n  return element;\n}\n\nfunction appendElement(parent, child) {\n  return parent.appendChild(child);\n}\n\nfunction prependElement(e1, e2) {\n  e1.prepend(e2);\n}\n\nfunction renderEmptyElement(e) {\n  e.innerHTML = '';\n}\n\nfunction renderCode(gistElement, files) {\n  for (let key of Object.keys(files)) {\n    let fileElement = createElement(\n      'div',\n      files[key].filename,\n      marked('```js\\n' + files[key].raw_code + '\\n```')\n    );\n    appendElement(gistElement, fileElement);\n    hljs.highlightBlock(fileElement.firstChild.firstChild);\n  }\n}\n\nfunction renderComments(gistElement, comments) {\n  let first = true;\n  for (let comment of comments) {\n    let commentElement = createElement('div', comment.id, marked(comment.body));\n    if (first) {\n      prependElement(gistElement, commentElement);\n      first = false;\n    } else {\n      appendElement(gistElement, commentElement);\n    }\n  }\n}\n\nfunction clearSolution() {\n  let solutionElement = getElementById('solutions');\n  renderEmptyElement(solutionElement);\n  return solutionElement;\n}\n\nasync function renderChapter(gists) {\n  let solutionElement = clearSolution();\n  for (let gist of gists) {\n    let gistElement = createElement('div', gist.id);\n    appendElement(solutionElement, gistElement);\n    renderCode(gistElement, gist.files);\n    prependElement(gistElement, createElement('h3', '', 'Solution'));\n    if (gist.comments > 0) {\n      renderComments(gistElement, gist.raw_comments);\n    }\n  }\n}\n\nasync function enableMenu(gists) {\n  let chapterRef = 0;\n  for (let gist of gists) {\n    let chapter = gist.description.substring(0, gist.description.indexOf('.'));\n    if (chapter != chapterRef) {\n      let menuElement = getElementById('nav-chapter-' + chapter);\n      menuElement.classList.remove('inactive');\n      menuElement.onclick = function() {\n        loadChapter(chapter);\n      };\n      chapterRef = chapter;\n    }\n  }\n}\n\nfunction updateActiveMenuItem(currentChapter, chapter) {\n  if (currentChapter !== chapter) {\n    getElementById('nav-chapter-' + currentChapter).classList.remove('active');\n    getElementById('nav-chapter-' + chapter).classList.add('active');\n  }\n}\n\nfunction toggleMenu() {\n  getElementsByTagName('nav')[0].classList.toggle('collapsed');\n}\n\nfunction toggleWaiting(state) {\n  if (state === 'on') {\n    getElementById('waiting').classList.remove('hidden');\n  } else {\n    getElementById('waiting').classList.add('hidden');\n  }\n}\n\n// model - load gists\nasync function getGists(url) {\n  try {\n    // get all of my code gists from github\n    let gists = await apiGetJson(url);\n    // only keep gists relating to (Eloquent JavaScript Solutions)\n    gists = gists.filter(a =>\n      a.description.includes('(Eloquent JavaScript Solutions)')\n    );\n    // sort the remaining gists by exercise number\n    gists.sort((a, b) => {\n      if (a.description < b.description) return -1;\n      if (a.description > b.description) return 1;\n      return 0;\n    });\n    return gists;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function loadChapter(chapter, menuToggle = true) {\n  toggleWaiting('on');\n  clearSolution();\n  updateActiveMenuItem(currentChapter, chapter);\n  if (menuToggle) {\n    toggleMenu();\n  }\n  await getCodeAndComments(gists, chapter);\n  renderChapter(prepareChapterGists(gists, chapter));\n  currentChapter = chapter;\n  toggleWaiting('off');\n}\n\nasync function getCodeAndComments(gists, chapter) {\n  for (let gist of gists) {\n    if (\n      gist.description.substring(0, gist.description.indexOf('.')) == chapter\n    ) {\n      for (let key of Object.keys(gist.files)) {\n        let file = gist.files[key];\n        if (!file.hasOwnProperty('raw_code')) {\n          file.raw_code = await apiGetText(file.raw_url);\n        }\n      }\n      if (gist.comments > 0 && !gist.hasOwnProperty('raw_comments')) {\n        gist.raw_comments = await apiGetJson(gist.comments_url);\n      }\n    }\n  }\n}\n\nfunction prepareChapterGists(gists, chapter) {\n  return gists.filter(\n    a => a.description.substring(0, a.description.indexOf('.')) == chapter\n  );\n}\n\n// init\n(async () => {\n  gists = await getGists(gistsURL);\n  enableMenu(gists);\n  await loadChapter(currentChapter, false);\n})();\n","// Source: https://github.com/jserz/js_piece/blob/master/DOM/ParentNode/prepend()/prepend().md\n(function(arr) {\n  arr.forEach(function(item) {\n    if (item.hasOwnProperty('prepend')) {\n      return;\n    }\n    Object.defineProperty(item, 'prepend', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function prepend() {\n        var argArr = Array.prototype.slice.call(arguments),\n          docFrag = document.createDocumentFragment();\n\n        argArr.forEach(function(argItem) {\n          var isNode = argItem instanceof Node;\n          docFrag.appendChild(\n            isNode ? argItem : document.createTextNode(String(argItem))\n          );\n        });\n\n        this.insertBefore(docFrag, this.firstChild);\n      }\n    });\n  });\n})([Element.prototype, Document.prototype, DocumentFragment.prototype]);\n"]}