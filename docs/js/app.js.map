{"version":3,"sources":["../../js/app.js"],"names":["createCodeElement","gist","solutionsElement","document","getElementById","newElement","appendChild","createElement","setAttribute","id","_callee","url","regeneratorRuntime","wrap","_callee$","_context","prev","next","fetch","sent","json","abrupt","stop","this","apiGetJson","_callee2","_callee2$","_context2","text","apiGetText","_callee3","code","element","h2","_callee3$","_context3","innerHTML","marked","hljs","highlightBlock","firstChild","prepend","renderCode","_callee4","comments","first","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","comment","commentElement","gistElement","_callee4$","_context4","undefined","Symbol","iterator","done","value","body","t0","return","finish","renderComments","_callee5","gists","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","e","codeURL","_callee5$","_context5","gistsURL","filter","a","description","includes","sort","b","files","Object","keys","raw_url","comments_url","t1","console","log","message","render","_asyncToGenerator","mark","_callee6","_callee6$","_context6"],"mappings":"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","file":"app.js","sourcesContent":["const gistsURL = 'https://api.github.com/users/jonurry/gists';\n\nfunction createCodeElement(gist) {\n  let solutionsElement = document.getElementById('solutions');\n  let newElement = solutionsElement.appendChild(document.createElement('div'));\n  newElement.setAttribute('id', gist.id);\n  return newElement;\n}\n\nasync function apiGetJson(url) {\n  return await (await fetch(url)).json();\n}\n\nasync function apiGetText(url) {\n  return await (await fetch(url)).text();\n}\n\nasync function renderCode(code, element) {\n  element.innerHTML = marked('```js\\n' + code + '\\n```');\n  hljs.highlightBlock(element.firstChild.firstChild);\n  let h2 = document.createElement('h3');\n  h2.innerHTML = 'Solution';\n  element.prepend(h2);\n}\n\nasync function renderComments(comments, id) {\n  let first = true;\n  for (let comment of comments) {\n    let commentElement;\n    let gistElement = document.getElementById(id);\n    if (first) {\n      gistElement.prepend(document.createElement('div'));\n      commentElement = gistElement.firstChild;\n      first = false;\n    } else {\n      commentElement = gistElement.appendChild(document.createElement('div'));\n    }\n    commentElement.setAttribute('id', comment.id);\n    commentElement.innerHTML = marked(comment.body);\n  }\n}\n\nasync function render() {\n  try {\n    // get all of my code gists from github\n    let gists = await apiGetJson(gistsURL);\n    // only keep gists relating to (Eloquent JavaScript Solutions)\n    gists.filter(a =>\n      a.description.includes('(Eloquent JavaScript Solutions)')\n    );\n    // sort the remaining gists by exercise number\n    gists.sort((a, b) => {\n      if (a.description < b.description) return -1;\n      if (a.description > b.description) return 1;\n      return 0;\n    });\n    for (let gist of gists) {\n      let e = createCodeElement(gist);\n      let codeURL = gist.files[Object.keys(gist.files)[0]].raw_url;\n      let code = await apiGetText(codeURL);\n      await renderCode(code, e);\n      if (gist.comments > 0) {\n        let comments = await apiGetJson(gist.comments_url);\n        await renderComments(comments, gist.id);\n      }\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\n(async () => {\n  await render();\n})();\n"]}