"use strict";function _asyncToGenerator(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(a,i){try{var s=r[a](i),o=s.value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}return n("next")})}}function createCodeElement(e){var r=document.getElementById("solutions"),t=r.appendChild(document.createElement("div"));return t.setAttribute("id",e.id),t}var apiGetJson=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(r);case 2:return t.next=4,t.sent.json();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},e,this)}));return function r(t){return e.apply(this,arguments)}}(),apiGetText=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(r);case 2:return t.next=4,t.sent.text();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},e,this)}));return function r(t){return e.apply(this,arguments)}}(),renderCode=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function e(a){for(;;)switch(a.prev=a.next){case 0:t.innerHTML=marked("```js\n"+r+"\n```"),hljs.highlightBlock(t.firstChild.firstChild),n=document.createElement("h3"),n.innerHTML="Solution",t.prepend(n);case 5:case"end":return a.stop()}},e,this)}));return function r(t,n){return e.apply(this,arguments)}}(),renderComments=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r,t){var n,a,i,s,o,c,u,p,d;return regeneratorRuntime.wrap(function e(f){for(;;)switch(f.prev=f.next){case 0:for(n=!0,a=!0,i=!1,s=void 0,f.prev=4,o=r[Symbol.iterator]();!(a=(c=o.next()).done);a=!0)u=c.value,p=void 0,d=document.getElementById(t),n?(d.prepend(document.createElement("div")),p=d.firstChild,n=!1):p=d.appendChild(document.createElement("div")),p.setAttribute("id",u.id),p.innerHTML=marked(u.body);f.next=12;break;case 8:f.prev=8,f.t0=f.catch(4),i=!0,s=f.t0;case 12:f.prev=12,f.prev=13,!a&&o.return&&o.return();case 15:if(f.prev=15,!i){f.next=18;break}throw s;case 18:return f.finish(15);case 19:return f.finish(12);case 20:case"end":return f.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}));return function r(t,n){return e.apply(this,arguments)}}(),render=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,t,n,a,i,s,o,c,u,p,d;return regeneratorRuntime.wrap(function e(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,apiGetJson(gistsURL);case 3:r=f.sent,r.filter(function(e){return e.description.includes("(Eloquent JavaScript Solutions)")}),r.sort(function(e,r){return e.description<r.description?-1:e.description>r.description?1:0}),t=!0,n=!1,a=void 0,f.prev=9,i=r[Symbol.iterator]();case 11:if(t=(s=i.next()).done){f.next=29;break}return o=s.value,c=createCodeElement(o),u=o.files[Object.keys(o.files)[0]].raw_url,f.next=17,apiGetText(u);case 17:return p=f.sent,f.next=20,renderCode(p,c);case 20:if(!(o.comments>0)){f.next=26;break}return f.next=23,apiGetJson(o.comments_url);case 23:return d=f.sent,f.next=26,renderComments(d,o.id);case 26:t=!0,f.next=11;break;case 29:f.next=35;break;case 31:f.prev=31,f.t0=f.catch(9),n=!0,a=f.t0;case 35:f.prev=35,f.prev=36,!t&&i.return&&i.return();case 38:if(f.prev=38,!n){f.next=41;break}throw a;case 41:return f.finish(38);case 42:return f.finish(35);case 43:f.next=48;break;case 45:f.prev=45,f.t1=f.catch(0),console.log(f.t1.message);case 48:case"end":return f.stop()}},e,this,[[0,45],[9,31,35,43],[36,,38,42]])}));return function r(){return e.apply(this,arguments)}}(),gistsURL="https://api.github.com/users/jonurry/gists";_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,render();case 2:case"end":return r.stop()}},e,void 0)}))();
//# sourceMappingURL=./app.js.map