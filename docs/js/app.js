"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}!function(e){e.forEach(function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function e(){var t=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();t.forEach(function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))}),this.insertBefore(n,this.firstChild)}})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(){return{getJson:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t);case 2:return n.next=4,n.sent.json();case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},e,this)}));return function t(n){return e.apply(this,arguments)}}(),getText:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t);case 2:return n.next=4,n.sent.text();case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},e,this)}));return function t(n){return e.apply(this,arguments)}}()}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"function"==typeof define&&define.amd||("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports.api=e:(t=t||{},t.EJSS3=t.EJSS3||{},t.EJSS3.createAPI=e))}(void 0);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(e){function t(){return JSON.parse(JSON.stringify(i))}var n=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(n){var r,o,a,u,c,s,f,p,l,d,v,y,m;return regeneratorRuntime.wrap(function t(h){for(;;)switch(h.prev=h.next){case 0:r=!0,o=!1,a=void 0,h.prev=3,u=i[Symbol.iterator]();case 5:if(r=(c=u.next()).done){h.next=44;break}if(s=c.value,s.description.substring(0,s.description.indexOf("."))!=n){h.next=41;break}f=!0,p=!1,l=void 0,h.prev=11,d=Object.keys(s.files)[Symbol.iterator]();case 13:if(f=(v=d.next()).done){h.next=23;break}if(y=v.value,m=s.files[y],m.hasOwnProperty("raw_code")){h.next=20;break}return h.next=19,e.getText(m.raw_url);case 19:m.raw_code=h.sent;case 20:f=!0,h.next=13;break;case 23:h.next=29;break;case 25:h.prev=25,h.t0=h.catch(11),p=!0,l=h.t0;case 29:h.prev=29,h.prev=30,!f&&d.return&&d.return();case 32:if(h.prev=32,!p){h.next=35;break}throw l;case 35:return h.finish(32);case 36:return h.finish(29);case 37:if(!(s.comments>0)||s.hasOwnProperty("raw_comments")){h.next=41;break}return h.next=40,e.getJson(s.comments_url);case 40:s.raw_comments=h.sent;case 41:r=!0,h.next=5;break;case 44:h.next=50;break;case 46:h.prev=46,h.t1=h.catch(3),o=!0,a=h.t1;case 50:h.prev=50,h.prev=51,!r&&u.return&&u.return();case 53:if(h.prev=53,!o){h.next=56;break}throw a;case 56:return h.finish(53);case 57:return h.finish(50);case 58:return h.abrupt("return",i.filter(function(e){return e.description.substring(0,e.description.indexOf("."))==n}));case 59:case"end":return h.stop()}},t,this,[[3,46,50,58],[11,25,29,37],[30,,32,36],[51,,53,57]])}));return function e(n){return t.apply(this,arguments)}}(),r=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.getJson(o);case 3:i=n.sent,i=i.filter(function(e){return e.description.includes("(Eloquent JavaScript Solutions)")}),i.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message);case 11:case"end":return n.stop()}},t,this,[[0,8]])}));return function e(){return t.apply(this,arguments)}}(),o="https://api.github.com/users/jonurry/gists",i={};return{getGists:t,loadChapter:n,loadGists:r}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"function"==typeof define&&define.amd||("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports.model=e:(t=t||{},t.EJSS3=t.EJSS3||{},t.EJSS3.createModel=e))}(void 0);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(){function e(e,t){return e.appendChild(t)}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement(e);return""!==t&&r.setAttribute("id",t),""!==n&&(r.innerHTML=n),r}function n(e){return document.getElementById(e)}function r(e){return document.getElementsByTagName(e)}function o(e,t){e.prepend(t)}function i(n,r){var o=!0,i=!1,a=void 0;try{for(var u=Object.keys(r)[Symbol.iterator](),c;!(o=(c=u.next()).done);o=!0){var s=c.value,f=t("div",r[s].filename,marked("```js\n"+r[s].raw_code+"\n```"));e(n,f),hljs.highlightBlock(f.firstChild.firstChild)}}catch(e){i=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}function a(n,r){var i=!0,a=!0,u=!1,c=void 0;try{for(var s=r[Symbol.iterator](),f;!(a=(f=s.next()).done);a=!0){var p=f.value,l=t("div",p.id,marked(p.body));i?(o(n,l),i=!1):e(n,l)}}catch(e){u=!0,c=e}finally{try{!a&&s.return&&s.return()}finally{if(u)throw c}}}function u(e){e.innerHTML=""}function c(){u(n("solutions"))}function s(){r("nav")[0].classList.toggle("collapsed")}function f(e){"on"===e?n("waiting").classList.remove("hidden"):n("waiting").classList.add("hidden")}function p(e,t){e!==t&&(n("nav-chapter-"+e).classList.remove("active"),n("nav-chapter-"+t).classList.add("active"))}return{clearSolution:c,renderChapter:function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(u){var c,s,f,p,l,d,v,y;return regeneratorRuntime.wrap(function r(m){for(;;)switch(m.prev=m.next){case 0:for(c=n("solutions"),s=!0,f=!1,p=void 0,m.prev=4,l=u[Symbol.iterator]();!(s=(d=l.next()).done);s=!0)v=d.value,y=t("div",v.id),e(c,y),i(y,v.files),o(y,t("h3","","Solution")),v.comments>0&&a(y,v.raw_comments);m.next=12;break;case 8:m.prev=8,m.t0=m.catch(4),f=!0,p=m.t0;case 12:m.prev=12,m.prev=13,!s&&l.return&&l.return();case 15:if(m.prev=15,!f){m.next=18;break}throw p;case 18:return m.finish(15);case 19:return m.finish(12);case 20:case"end":return m.stop()}},r,this,[[4,8,12,20],[13,,15,19]])}));return function e(t){return r.apply(this,arguments)}}(),setupMenu:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var o,i,a,u,c,f,p,l;return regeneratorRuntime.wrap(function e(d){for(;;)switch(d.prev=d.next){case 0:for(o=0,i=n("menu"),i.onclick=s,a=!0,u=!1,c=void 0,d.prev=6,f=function e(){var t=l.value,i=t.description.substring(0,t.description.indexOf("."));if(i!=o){var a=n("nav-chapter-"+i);a.classList.remove("inactive"),a.onclick=function(){r(i)},o=i}},p=t[Symbol.iterator]();!(a=(l=p.next()).done);a=!0)f();d.next=15;break;case 11:d.prev=11,d.t0=d.catch(6),u=!0,c=d.t0;case 15:d.prev=15,d.prev=16,!a&&p.return&&p.return();case 18:if(d.prev=18,!u){d.next=21;break}throw c;case 21:return d.finish(18);case 22:return d.finish(15);case 23:case"end":return d.stop()}},e,this,[[6,11,15,23],[16,,18,22]])}));return function t(n,r){return e.apply(this,arguments)}}(),toggleMenu:s,toggleWaiting:f,updateActiveMenuItem:p}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"function"==typeof define&&define.amd||("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports.view=e:(t=t||{},t.EJSS3=t.EJSS3||{},t.EJSS3.createView=e))}(void 0);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(){var e=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a;return regeneratorRuntime.wrap(function e(u){for(;;)switch(u.prev=u.next){case 0:return a={},o.clearSolution(),o.toggleWaiting("on"),o.updateActiveMenuItem(n,t),i&&o.toggleMenu(),u.next=7,r.loadChapter(t);case 7:a=u.sent,o.renderChapter(a),n=t,o.toggleWaiting("off");case 11:case"end":return u.stop()}},e,this)}));return function t(n){return e.apply(this,arguments)}}(),t=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(i,a){return regeneratorRuntime.wrap(function t(u){for(;;)switch(u.prev=u.next){case 0:return r=i,o=a,u.next=4,r.loadGists();case 4:return u.next=6,o.setupMenu(r.getGists(),e);case 6:return u.next=8,e(n,!1);case 8:case"end":return u.stop()}},t,this)}));return function e(n,r){return t.apply(this,arguments)}}(),n=2,r={},o={};return{init:t}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"function"==typeof define&&define.amd||("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports.controller=e:(t=t||{},t.EJSS3=t.EJSS3||{},t.EJSS3.createController=e))}(void 0),function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n,r,o,i;return regeneratorRuntime.wrap(function e(a){for(;;)switch(a.prev=a.next){case 0:return n=t.EJSS3.createAPI(),r=t.EJSS3.createModel(n),o=t.EJSS3.createView(),i=t.EJSS3.createController(),a.next=6,i.init(r,o);case 6:case"end":return a.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()(void 0);
//# sourceMappingURL=./app.js.map