"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var a=t[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}return r("next")})}}!function(e){e.forEach(function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function e(){var t=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();t.forEach(function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))}),this.insertBefore(n,this.firstChild)}})})}([Element.prototype,Document.prototype,DocumentFragment.prototype]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t);case 2:return n.next=4,n.sent.json();case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},e,this)}));return function t(n){return e.apply(this,arguments)}}(),t=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(t);case 2:return n.next=4,n.sent.text();case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},e,this)}));return function t(n){return e.apply(this,arguments)}}(),n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,r={getJson:e,getText:t};"function"==typeof define&&define.amd||("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports.api=r:(n=n||{},n.EJSS3=n.EJSS3||{},n.EJSS3.api=r))}(void 0);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,o,a,u,c,s,f,p,l,d,v,y,m;return regeneratorRuntime.wrap(function e(h){for(;;)switch(h.prev=h.next){case 0:n=!0,o=!1,a=void 0,h.prev=3,u=i[Symbol.iterator]();case 5:if(n=(c=u.next()).done){h.next=44;break}if(s=c.value,s.description.substring(0,s.description.indexOf("."))!=t){h.next=41;break}f=!0,p=!1,l=void 0,h.prev=11,d=Object.keys(s.files)[Symbol.iterator]();case 13:if(f=(v=d.next()).done){h.next=23;break}if(y=v.value,m=s.files[y],m.hasOwnProperty("raw_code")){h.next=20;break}return h.next=19,r.getText(m.raw_url);case 19:m.raw_code=h.sent;case 20:f=!0,h.next=13;break;case 23:h.next=29;break;case 25:h.prev=25,h.t0=h.catch(11),p=!0,l=h.t0;case 29:h.prev=29,h.prev=30,!f&&d.return&&d.return();case 32:if(h.prev=32,!p){h.next=35;break}throw l;case 35:return h.finish(32);case 36:return h.finish(29);case 37:if(!(s.comments>0)||s.hasOwnProperty("raw_comments")){h.next=41;break}return h.next=40,r.getJson(s.comments_url);case 40:s.raw_comments=h.sent;case 41:n=!0,h.next=5;break;case 44:h.next=50;break;case 46:h.prev=46,h.t1=h.catch(3),o=!0,a=h.t1;case 50:h.prev=50,h.prev=51,!n&&u.return&&u.return();case 53:if(h.prev=53,!o){h.next=56;break}throw a;case 56:return h.finish(53);case 57:return h.finish(50);case 58:return h.abrupt("return",i.filter(function(e){return e.description.substring(0,e.description.indexOf("."))==t}));case 59:case"end":return h.stop()}},e,this,[[3,46,50,58],[11,25,29,37],[30,,32,36],[51,,53,57]])}));return function t(n){return e.apply(this,arguments)}}(),t=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.getJson(o);case 3:i=t.sent,i=i.filter(function(e){return e.description.includes("(Eloquent JavaScript Solutions)")}),i.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}},e,this,[[0,8]])}));return function t(){return e.apply(this,arguments)}}(),n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,r=n.EJSS3.api,o="https://api.github.com/users/jonurry/gists",i={},a={getGists:function e(){return JSON.parse(JSON.stringify(i))},loadChapter:e,loadGists:t};"function"==typeof define&&define.amd||("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports.model=a:(n=n||{},n.EJSS3=n.EJSS3||{},n.EJSS3.model=a))}(void 0);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(e,t){return e.appendChild(t)}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement(e);return""!==t&&r.setAttribute("id",t),""!==n&&(r.innerHTML=n),r}function n(e){return document.getElementById(e)}function r(e){return document.getElementsByTagName(e)}function o(e,t){e.prepend(t)}function i(n,r){var o=!0,i=!1,a=void 0;try{for(var u=Object.keys(r)[Symbol.iterator](),c;!(o=(c=u.next()).done);o=!0){var s=c.value,f=t("div",r[s].filename,marked("```js\n"+r[s].raw_code+"\n```"));e(n,f),hljs.highlightBlock(f.firstChild.firstChild)}}catch(e){i=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}function a(n,r){var i=!0,a=!0,u=!1,c=void 0;try{for(var s=r[Symbol.iterator](),f;!(a=(f=s.next()).done);a=!0){var p=f.value,l=t("div",p.id,marked(p.body));i?(o(n,l),i=!1):e(n,l)}}catch(e){u=!0,c=e}finally{try{!a&&s.return&&s.return()}finally{if(u)throw c}}}function u(e){e.innerHTML=""}function c(){u(n("solutions"))}function s(){r("nav")[0].classList.toggle("collapsed")}function f(e){"on"===e?n("waiting").classList.remove("hidden"):n("waiting").classList.add("hidden")}function p(e,t){e!==t&&(n("nav-chapter-"+e).classList.remove("active"),n("nav-chapter-"+t).classList.add("active"))}var l=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(u){var c,s,f,p,l,d,v,y;return regeneratorRuntime.wrap(function r(m){for(;;)switch(m.prev=m.next){case 0:for(c=n("solutions"),s=!0,f=!1,p=void 0,m.prev=4,l=u[Symbol.iterator]();!(s=(d=l.next()).done);s=!0)v=d.value,y=t("div",v.id),e(c,y),i(y,v.files),o(y,t("h3","","Solution")),v.comments>0&&a(y,v.raw_comments);m.next=12;break;case 8:m.prev=8,m.t0=m.catch(4),f=!0,p=m.t0;case 12:m.prev=12,m.prev=13,!s&&l.return&&l.return();case 15:if(m.prev=15,!f){m.next=18;break}throw p;case 18:return m.finish(15);case 19:return m.finish(12);case 20:case"end":return m.stop()}},r,this,[[4,8,12,20],[13,,15,19]])}));return function e(t){return r.apply(this,arguments)}}(),d=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var o,i,a,u,c,s,f;return regeneratorRuntime.wrap(function e(p){for(;;)switch(p.prev=p.next){case 0:for(o=0,i=!0,a=!1,u=void 0,p.prev=4,c=function e(){var t=f.value,i=t.description.substring(0,t.description.indexOf("."));if(i!=o){var a=n("nav-chapter-"+i);a.classList.remove("inactive"),a.onclick=function(){r(i)},o=i}},s=t[Symbol.iterator]();!(i=(f=s.next()).done);i=!0)c();p.next=13;break;case 9:p.prev=9,p.t0=p.catch(4),a=!0,u=p.t0;case 13:p.prev=13,p.prev=14,!i&&s.return&&s.return();case 16:if(p.prev=16,!a){p.next=19;break}throw u;case 19:return p.finish(16);case 20:return p.finish(13);case 21:case"end":return p.stop()}},e,this,[[4,9,13,21],[14,,16,20]])}));return function t(n,r){return e.apply(this,arguments)}}(),v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,y={clearSolution:c,renderChapter:l,setupMenu:d,toggleMenu:s,toggleWaiting:f,updateActiveMenuItem:p};"function"==typeof define&&define.amd||("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports.view=y:(v=v||{},v.EJSS3=v.EJSS3||{},v.EJSS3.view=y))}(void 0);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a;return regeneratorRuntime.wrap(function e(u){for(;;)switch(u.prev=u.next){case 0:return a={},i.clearSolution(),i.toggleWaiting("on"),i.updateActiveMenuItem(r,t),n&&i.toggleMenu(),u.next=7,o.loadChapter(t);case 7:a=u.sent,i.renderChapter(a),r=t,i.toggleWaiting("off");case 11:case"end":return u.stop()}},e,this)}));return function t(n){return e.apply(this,arguments)}}(),t=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(n,a){return regeneratorRuntime.wrap(function t(u){for(;;)switch(u.prev=u.next){case 0:return o=n,i=a,u.next=4,o.loadGists();case 4:return u.next=6,i.setupMenu(o.getGists(),e);case 6:return u.next=8,e(r,!1);case 8:case"end":return u.stop()}},t,this)}));return function e(n,r){return t.apply(this,arguments)}}(),n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,r=2,o={},i={},a={init:t};"function"==typeof define&&define.amd||("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports.controller=a:(n=n||{},n.EJSS3=n.EJSS3||{},n.EJSS3.controller=a))}(void 0),function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n,r,o;return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return n=t.EJSS3.model,r=t.EJSS3.view,o=t.EJSS3.controller,i.next=5,o.init(n,r);case 5:case"end":return i.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}()(void 0);
//# sourceMappingURL=./app.js.map